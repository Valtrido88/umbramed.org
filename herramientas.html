<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herramientas MÃ©dicas - UmbraMed.Org</title>
    <!-- Inlined critical styles extracted from styles.css -->
    <style>
    :root { --primary-red:#C41E3A;--dark-red:#8B0000;--blood-red:#880808;--warning-red:#FF4444;--success-green:#28a745;--light-bg:#FFFFFF;--lighter-bg:#F8F9FA;--text-dark:#343A40;--text-light:#6C757D;--accent-black:#1A1A1A; }
    body{margin:0;font-family:'Rajdhani',sans-serif;background:var(--light-bg);color:var(--text-dark);} .header{position:fixed;top:0;left:0;right:0;background:var(--lighter-bg);border-bottom:2px solid var(--primary-red);z-index:1000;padding:.5rem;} .nav-container{display:flex;justify-content:space-between;align-items:center;max-width:1400px;margin:0 auto;padding:0 1rem;} .logo-container{display:flex;align-items:center;gap:1rem;} .brand-text{font-family:'Orbitron',monospace;font-size:2.5rem;font-weight:700;color:var(--primary-red);} .subtitle{font-size:1rem;color:var(--text-light);letter-spacing:2px;} .nav-menu{display:flex;gap:2rem;list-style:none;margin:0;padding:0;} .nav-item a{color:var(--text-dark);text-decoration:none;font-weight:600;text-transform:uppercase;letter-spacing:1px;position:relative;padding:.5rem 0;} .nav-item a:hover,.nav-item a.active{color:var(--primary-red);} .nav-item a::after{content:'';position:absolute;bottom:-2px;left:0;width:0;height:2px;background:var(--primary-red);transition:width .3s ease;} .nav-item a:hover::after,.nav-item a.active::after{width:100%;}
    .main-content{margin-top:120px;padding:2rem;} .section-title{font-family:'Orbitron',monospace;font-size:2.2rem;font-weight:700;color:var(--primary-red);text-align:center;margin-bottom:2rem;} .tools-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(350px,1fr));gap:2rem;max-width:1400px;margin:0 auto;} .tool-card{background:linear-gradient(145deg,var(--light-bg),var(--lighter-bg));border:1px solid var(--primary-red);border-radius:8px;padding:2rem;transition:.3s;position:relative;overflow:hidden;box-shadow:0 2px 10px rgba(196,30,58,.1);} .tool-card:hover{transform:translateY(-5px);border-color:var(--blood-red);box-shadow:0 10px 30px rgba(196,30,58,.2);} .tool-icon{font-size:3rem;color:var(--primary-red);margin-bottom:1rem;display:block;} .tool-title{font-family:'Orbitron',monospace;font-size:1.4rem;font-weight:700;color:var(--accent-black);margin-bottom:1rem;} .tool-description{color:var(--text-light);margin-bottom:1.5rem;line-height:1.6;} .tool-link, .tool-card a.tool-link, .tool-card button.tool-link{display:inline-block;background:linear-gradient(45deg,var(--primary-red),var(--dark-red));color:#fff !important;text-decoration:none;padding:.8rem 1.5rem;border-radius:5px;font-weight:600;text-transform:uppercase;letter-spacing:1px;cursor:pointer;border:none;transition:.3s;font-family:'Rajdhani',sans-serif;} .tool-card a.tool-link:hover, .tool-card button.tool-link:hover{background:linear-gradient(45deg,var(--blood-red),var(--primary-red));transform:scale(1.05);box-shadow:0 5px 15px rgba(196,30,58,.3);} .footer{background:var(--lighter-bg);border-top:2px solid var(--primary-red);padding:3rem 2rem 2rem;margin-top:4rem;text-align:center;} .footer-content{max-width:1400px;margin:0 auto;} .footer p{color:var(--text-light);font-size:.9rem;margin:.5rem 0;}
    @media (max-width:768px){.nav-container{flex-direction:column;gap:1rem;padding:1rem;} .nav-menu{flex-wrap:wrap;gap:1rem;justify-content:center;} .brand-text{font-size:2rem;} .tools-grid{grid-template-columns:1fr;padding:0 1rem;} .main-content{margin-top:180px;padding:1rem;}}
    </style>
</head>
<body>
    <header class="header">
        <div class="nav-container">
            <div class="logo-container">
                <a href="index.html">
                    <div class="logo-dna">
                        <svg viewBox="0 0 100 120" xmlns="http://www.w3.org/2000/svg">
                            <!-- Doble hÃ©lice del ADN -->
                            <path d="M20 10 Q30 20 20 30 Q10 40 20 50 Q30 60 20 70 Q10 80 20 90 Q30 100 20 110" 
                                  stroke="currentColor" stroke-width="4" fill="none"/>
                            <path d="M80 10 Q70 20 80 30 Q90 40 80 50 Q70 60 80 70 Q90 80 80 90 Q70 100 80 110" 
                                  stroke="currentColor" stroke-width="4" fill="none"/>
                            <line x1="20" y1="15" x2="80" y2="15" stroke="currentColor" stroke-width="2"/>
                            <line x1="22" y1="25" x2="78" y2="25" stroke="currentColor" stroke-width="2"/>
                            <line x1="20" y1="35" x2="80" y2="35" stroke="currentColor" stroke-width="2"/>
                            <line x1="18" y1="45" x2="82" y2="45" stroke="currentColor" stroke-width="2"/>
                            <line x1="20" y1="55" x2="80" y2="55" stroke="currentColor" stroke-width="2"/>
                            <line x1="22" y1="65" x2="78" y2="65" stroke="currentColor" stroke-width="2"/>
                            <line x1="20" y1="75" x2="80" y2="75" stroke="currentColor" stroke-width="2"/>
                            <line x1="18" y1="85" x2="82" y2="85" stroke="currentColor" stroke-width="2"/>
                            <line x1="20" y1="95" x2="80" y2="95" stroke="currentColor" stroke-width="2"/>
                            <line x1="22" y1="105" x2="78" y2="105" stroke="currentColor" stroke-width="2"/>
                            <circle cx="20" cy="10" r="3" fill="currentColor"/>
                            <circle cx="80" cy="10" r="3" fill="currentColor"/>
                            <circle cx="20" cy="30" r="3" fill="currentColor"/>
                            <circle cx="80" cy="30" r="3" fill="currentColor"/>
                            <circle cx="20" cy="50" r="3" fill="currentColor"/>
                            <circle cx="80" cy="50" r="3" fill="currentColor"/>
                            <circle cx="20" cy="70" r="3" fill="currentColor"/>
                            <circle cx="80" cy="70" r="3" fill="currentColor"/>
                            <circle cx="20" cy="90" r="3" fill="currentColor"/>
                            <circle cx="80" cy="90" r="3" fill="currentColor"/>
                            <circle cx="20" cy="110" r="3" fill="currentColor"/>
                            <circle cx="80" cy="110" r="3" fill="currentColor"/>
                        </svg>
                    </div>
                    <div>
                        <div class="brand-text">UMBRAMED</div>
                        <div class="subtitle">MEDICAL DIVISION</div>
                    </div>
                </a>
            </div>
            <nav>
                <ul class="nav-menu">
                    <li class="nav-item"><a href="index.html">INICIO</a></li>
                    <li class="nav-item"><a href="herramientas.html" class="active">HERRAMIENTAS</a></li>
                    <li class="nav-item"><a href="academia.html" style="color: #667eea; font-weight: 600;">ðŸŽ“ ACADEMIA</a></li>
                    <li class="nav-item"><a href="medicamentos_sin_lactosa.html">ðŸ’Š SIN LACTOSA</a></li>
                    <li class="nav-item"><a href="medicamentos_visados.html" style="color: #C41E3A;">ðŸ”´ VISADOS SAS</a></li>
                    <li class="nav-item">
                        <div id="loginArea">
                            <button class="login-btn" onclick="showLogin()">LOGIN</button>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="main-content">
        <section class="tools-section">
            <h2 class="section-title">HERRAMIENTAS MÃ‰DICAS</h2>
            <div class="tools-grid" id="tools-grid">
                <!-- Las tarjetas de herramientas se cargarÃ¡n aquÃ­ dinÃ¡micamente -->
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 UMBRAMED Medical Division. Todos los derechos reservados.</p>
            <p>Desarrollado para profesionales sanitarios de AndalucÃ­a.</p>
        </div>
    </footer>

    <!-- Embedded script: tools rendering + validation -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            fetch('data/herramientas.json')
                .then(response => response.json())
                .then(tools => {
                    const toolsGrid = document.getElementById('tools-grid');
                    toolsGrid.innerHTML = '';
                    // Filtrar y asegurar que dietas y diabetes aparecen siempre
                    const extraTools = [
                        {
                            "id": "dietas-ia",
                            "title": "Asistente Nutricional IA",
                            "description": "Una herramienta avanzada para mÃ©dicos de atenciÃ³n primaria que utiliza IA para generar planes de dieta y ejercicio personalizados, listas de alimentos especÃ­ficos y consejos para pacientes, todo con la marca Umbramed.",
                            "link": "docs/unzipped_dietas_ia/index.html",
                            "icon": "ðŸ¥—",
                            "status": "functional",
                            "button_text": "Generar Dieta"
                        },
                        {
                            "id": "diabetes-tipo-2",
                            "title": "Asistente de Diabetes Tipo 2",
                            "description": "Una herramienta integral para ayudar a los pacientes con diabetes tipo 2 a gestionar su tratamiento, registrar sus niveles de glucosa y recibir recomendaciones basadas en IA para ajustar su medicaciÃ³n, incluyendo la detecciÃ³n y correcciÃ³n de los fenÃ³menos del alba y Somogyi.",
                            "link": "docs/unzipped_diabetes_tipo_2/index.html",
                            "icon": "ðŸ©¸",
                            "status": "functional",
                            "button_text": "Controlar Diabetes"
                        }
                    ];
                    // AÃ±adir si no estÃ¡n
                    extraTools.forEach(extra => {
                        if (!tools.some(t => t.id === extra.id)) {
                            tools.push(extra);
                        }
                    });
                    tools.forEach(tool => {
                        const card = document.createElement('div');
                        card.className = 'tool-card';
                        let style = '';
                        let buttonDisabled = false;
                        let buttonStyle = '';
                        let link = tool.link;
                        switch (tool.status) {
                            case 'featured':
                                style = 'border-color: #667eea; background: linear-gradient(135deg, #f8f9ff 0%, #e8ecff 100%); order: -1;';
                                buttonStyle = 'background: #667eea; border-color: #667eea; font-weight: 600;';
                                break;
                            case 'development':
                                style = 'opacity: 0.6; border-color: #6C757D;';
                                buttonDisabled = true;
                                buttonStyle = 'background: #6C757D; cursor: not-allowed;';
                                link = '#';
                                break;
                        }
                        card.setAttribute('style', style);
                        card.innerHTML = `
                            <span class="tool-icon" style="color: ${tool.status === 'featured' ? '#667eea' : (tool.status === 'development' ? '#6C757D' : 'inherit')}; font-size: ${tool.status === 'featured' ? '3rem' : '2rem'};">${tool.icon}</span>
                            <h3 class="tool-title" style="color: ${tool.status === 'featured' ? '#667eea' : (tool.status === 'development' ? '#6C757D' : 'inherit')}; font-size: ${tool.status === 'featured' ? '1.4rem' : '1.2rem'};">${tool.title}</h3>
                            <p class="tool-description" style="${tool.status === 'featured' ? 'font-weight: 500;' : ''}">${tool.description}</p>
                            ${buttonDisabled 
                                ? `<button class="tool-link" disabled style="${buttonStyle}">${tool.button_text}</button>`
                                : `<a href="${link}" class="tool-link" style="${buttonStyle}">${tool.button_text}</a>`
                            }
                        `;
                        toolsGrid.appendChild(card);
                    });
                })
                .catch(error => {
                    console.error('Error al cargar las herramientas:', error);
                    const toolsGrid = document.getElementById('tools-grid');
                    toolsGrid.innerHTML = '<p>Error al cargar las herramientas. Por favor, intente de nuevo mÃ¡s tarde.</p>';
                });
        });

        // FunciÃ³n para mostrar login
        function showLogin(){window.location.href='academia.html';}

        // Simple link & data validator (non-blocking)
        (function(){
            const origin=location.origin;
            document.querySelectorAll('a[href$=".html"]').forEach(a=>{
                const url=new URL(a.getAttribute('href'),origin);
                fetch(url.pathname,{method:'HEAD'}).then(r=>{if(!r.ok)console.warn('[VALIDATION] Broken link',url.pathname);}).catch(()=>console.warn('[VALIDATION] Missing link',url.pathname));
            });
            fetch('data/herramientas.json',{method:'HEAD'}).then(r=>{if(!r.ok)console.warn('[VALIDATION] Missing data herramientas.json');});
        })();
    </script>
</body>
</html>
